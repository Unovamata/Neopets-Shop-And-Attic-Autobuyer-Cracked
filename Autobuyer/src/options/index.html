<!DOCTYPE html>
<html>

    <head>
        <title>NeoBuyer Options</title>
        <link rel="stylesheet" type="text/css" href="options.css" />
    </head>

    <body>
        <img class="logo" src="../../icons/logo.svg">
        <div class="center">
            <div id="PAYMENT_LINK" class="payment-page-link">Add, View or Cancel Subscription</div>
            <div class="enter-info">NeoBuyer Options</div>
            <div class="autosaved">(autosaved)</div>
            <div class="donate">
                <a href="../history/history.html">View Your Item Purchase History</a>
                <br><br>
                <a href="item_db.html">View Item Price Database</a>
                <br><br>
                <a target="_blank" href="https://forms.gle/zwvVoE7KYxKWJHuU6">Feedback? Bugs?</a>
                <br><br>
                <a target="_blank" href="https://docs.google.com/document/d/e/2PACX-1vQ1bYmz2o92LG4sVq7CIO7tgCVl-lVreJxpIuDjd9TmFuXX166UZlqQdTWkt7VUyRkF33DvWD8ldVS8/pub">FAQ</a>
                <br><br>
                <a target="_blank" href="https://chrome.google.com/webstore/detail/neobuyer-main-shop-autobu/gcoedojijoejlngkneocccmnjkbbbfmd">Neobuyer on Chrome Store</a>
            </div>
            <hr>
            <center>
                <div class="settings-header">Attic Settings</div>
                <table align="left" class="box">
                    <tr>
                        <td>Attic autobuyer enabled:
                            <span class="tooltiptext">Disabling will turn off all features for the attic buyer.</span>
                        </td>
                        <td>
                            <label class="switch">
                                <input id="ATTIC_ENABLED" type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                    </tr>
                    <tbody class="attic-settings">
                        <tr>
                            <td>Highlight desired attic items:
                                <span class="tooltiptext">
                                    The best item will be colored orange, any other items meeting the buying criterion will be green.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="ATTIC_HIGHLIGHT" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class="">
                            <td>
                                Minimum profit in neopoints:
                                <span class="tooltiptext">For instance, if the item is worth an estimated 30,000 NPS and it costs 10,000 NPS, then the autobuyer will purchase it if this field is 20,000 or less. Both this condition and the below minimum profit percentage must both be true in order for the autobuyer to click the item.</span>
                            </td>
                            <td><input type="number" id="ATTIC_ITEM_DB_MIN_PROFIT_NPS"></input></td>
                        </tr>
                        <tr class="">
                            <td>Minimum profit percentage:
                                <span class="tooltiptext">For instance, if the item is worth an estimated 15,000 NPS and it costs 10,000 NPS, then the autobuyer will purchase it if this field is 50% (0.5) or less. It is recommened that you leave this at 1.0 or less. Both this condition and the above minimum profit in NPS must both be true in order for the autobuyer to click the item.</span>
                            </td>
                            <td><input type="number" id="ATTIC_ITEM_DB_MIN_PROFIT_PERCENT"></input></td>
                        </tr>
                        <tr>
                            <td>Auto-click item to buy:</td>
                            <td>
                                <label class="switch">
                                    <input id="ATTIC_CLICK_ITEM" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class=" attic-click-hide">
                            <td>Min buy time (milliseconds):
                                <span class="tooltiptext">This is the minimum of how fast the autobuyer will click the desired item to purchase after page load (if enabled). In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="ATTIC_MIN_BUY_TIME"></input></td>
                        </tr>
                        <tr class=" attic-click-hide">
                            <td>Max buy time (milliseconds):
                                <span class="tooltiptext">This is the maximum of how fast the autobuyer will click the desired item to purchase after page load (if enabled). In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="ATTIC_MAX_BUY_TIME"></input></td>
                        </tr>
                        <tr>
                            <td>Should refresh automatically:
                                <span class="tooltiptext">This will have the attic buyer refresh itself automatically. You can disable this to refresh the page yourself. Since the attic has special refresh rules (every 7 minutes + 0-15 seconds there is a chance of restock), this is usually preferable for now. In the future, a more sophisticated auto-refresh may come in an update.</span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="ATTIC_SHOULD_REFRESH" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class="attic-refresh-hide">
                            <td>Only refresh between (e.g. 11am to 4pm = [11,16]):
                                <span class="tooltiptext">
                                    This limits the times that the autobuyer will refresh in the Attic. If you want to run between 8am and 5pm, then you would put here [8,17]. If you want to run at all times when enabled, you would put [0,23].
                                </span>
                            </td>
                            <td><input type="text" id="ATTIC_RUN_BETWEEN_HOURS"></input></td>
                        </tr>
                        <tr class="attic-refresh-hide">
                            <td>Last restock time <b>in NST</b> <span class="subdued">(usually found <a target="_blank" href="http://www.neopets.com/neoboards/boardlist.phtml?board=23">here</a>)</span>:
                                <span class="tooltiptext">
                                    This is the last known time (NST) that the attic restocked. With this filled out, the autobuyer can refresh more intelligently so that you do not get banned as quickly. When not present, it will refresh much more often which leads to a quicker refresh ban. You can usually find the time on a board titled "Attic Antics" or similar.
                                </span>
                            </td>
                            <td>
                                <input id="ATTIC_LAST_REFRESH_DATE" type="date" /><input id="ATTIC_LAST_REFRESH_TIME" type="time" step="1" /> NST
                            </td>
                        </tr>
                        <tr class=" attic-refresh-hide">
                            <td>Minimum refresh:
                                <span class="tooltiptext">In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="ATTIC_MIN_REFRESH"></input></td>
                        </tr>
                        <tr class=" attic-refresh-hide">
                            <td>Maximum refresh:
                                <span class="tooltiptext">In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="ATTIC_MAX_REFRESH"></input></td>
                        </tr>
                    </tbody>
                </table>
                <div class="settings-header">Main Shop Buyer Settings</div>
                <table align="left" class="box">
                    <tr>
                        <td>Main shop autobuyer enabled:
                            <span class="tooltiptext">Disabling will turn off all features for the main shop buyer.</span>
                        </td>
                        <td>
                            <label class="switch">
                                <input id="ENABLED" type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                    </tr>
                    <tbody class="main-shop-settings">
                        <tr>
                            <td>Only refresh between (e.g. 11am to 4pm = [11,16]):
                                <span class="tooltiptext">
                                    This limits the times that the autobuyer will refresh in the main shops. If you want to run between 8am and 5pm, then you would put here [8,17]. If you want to run at all times when enabled, you would put [0,23].
                                </span>
                            </td>
                            <td><input type="text" id="RUN_BETWEEN_HOURS"></input></td>
                        </tr>
                        <tr>
                            <td>Minimum refresh (unstocked):
                                <span class="tooltiptext">In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MIN_REFRESH"></input></td>
                        </tr>
                        <tr>
                            <td>Maximum refresh (unstocked):
                                <span class="tooltiptext">In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MAX_REFRESH"></input></td>
                        </tr>
                        <tr>
                            <td>Minimum refresh (stocked):
                                <span class="tooltiptext">In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MIN_REFRESH_STOCKED"></input></td>
                        </tr>
                        <tr>
                            <td>Maximum refresh (stocked):
                                <span class="tooltiptext">In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MAX_REFRESH_STOCKED"></input></td>
                        </tr>
                        <tr>
                            <td>
                                Store numbers to cycle through when stocked:
                                <span class="tooltiptext">
                                    If you are in a store in this list, and it is stocked, then the autobuyer will wait the desired number of seconds and then navigate to the next shop in the list. This way, it can cycle through multiple shops until it finds on that is not stocked. Once it does, it will refresh there. For instance, magic, food, and stamp would be [2,1,58].
                                </span>
                            </td>
                            <td><input type="text" id="STORES_TO_CYCLE_THROUGH_WHEN_STOCKED"></input></td>
                        </tr>
                        <tr>
                            <td>Minimum items for store to be considered stocked:
                                <span class="tooltiptext">
                                    For example, if the store has 5 items, and you enter 5 here, the store is considered 'stocked' and the 'stocked' refresh intervals above will apply.
                                </span>
                            </td>
                            <td><input type="number" id="ITEMS_TO_CONSIDER_STOCKED"></input></td>
                        </tr>
                        <tr>
                            <td>Auto-click item to buy:</td>
                            <td>
                                <label class="switch">
                                    <input id="CLICK_ITEM" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class="click-hide">
                            <td title="Useful for those with slower internet connections">Go for 2nd best item:
                                <span class="tooltiptext">
                                    This is useful if you have a slow internet connection. Instead of trying to get the best item in stock, the autobuyer will try to get the 2nd-best item, so that you have a higher chance of success. If there is only 1 item in stock worth buying, it will still try to buy that one item.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_GO_FOR_SECOND_MOST_VALUABLE" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class="click-hide">
                            <td>Min click item image:
                                <span class="tooltiptext">This is the minimum of how fast the autobuyer will click the desired item to purchase after page load (if enabled). In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MIN_CLICK_ITEM_IMAGE"></input></td>
                        </tr>
                        <tr class="click-hide">
                            <td>Max click item image:
                                <span class="tooltiptext">This is the maximum of how fast the autobuyer will click the desired item to purchase after page load (if enabled). In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MAX_CLICK_ITEM_IMAGE"></input></td>
                        </tr>
                        <tr>
                            <td>Auto-click confirm modal:</td>
                            <td>
                                <label class="switch">
                                    <input id="CLICK_CONFIRM" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class="confirm-hide">
                            <td>Min click confirm purchase:
                                <span class="tooltiptext">This is the minimum of how fast the autobuyer will click 'confirm' after clicking a desired item to purchase (if enabled). In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MIN_CLICK_CONFIRM"></input></td>
                        </tr>
                        <tr class="confirm-hide">
                            <td>Max click confirm purchase:
                                <span class="tooltiptext">This is the maximum of how fast the autobuyer will click 'confirm' after clicking a desired item to purchase (if enabled). In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MAX_CLICK_CONFIRM"></input></td>
                        </tr>
                        <tr>
                            <td>Auto enter offer:
                                <span class="tooltiptext">
                                    The autobuyer will smartly enter an offer that is slightly different from the actual price to be more human-like. It uses a rand function and then types similar to how a human would.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_ENTER_OFFER" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td>Auto click captcha:</td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_CLICK_NEOPET" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td>Annotate captcha with neopet's location:
                                <span class="tooltiptext">
                                    This will add a red dot to where the neopet is in the captcha, so that it is easier to see.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_ANNOTATE_IMAGE" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td>Min total time on captcha page:
                                <span class="tooltiptext">In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MIN_OCR_PAGE"></input></td>
                        </tr>
                        <tr>
                            <td>Max total time on captcha page:
                                <span class="tooltiptext">In milliseconds. For example, 1 second = 1000.
                                </span>
                            </td>
                            <td><input type="number" id="MAX_OCR_PAGE"></input></td>
                        </tr>
                        <tr>
                            <td>Highlight desired shop items:
                                <span class="tooltiptext">
                                    The best item will be colored orange, any other items on the restock list will be colored green.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="HIGHLIGHT" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td>Use item database value estimates:
                                <span class="tooltiptext">This will smartly purchase profitable items without the need for a restock list. Every restockable item is in the database with an up-to-date price from JellyNeo or the trading post/shop wizard. This database is automatically updated periodically with fresh value estimates for every item.</span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="USE_ITEM_DB" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class="restock-hide">
                            <td>Restock list (will be used instead of item database):
                                <span class="tooltiptext">Must be in order from most to least profitable. It is ok if items are grouped by store, for example, all magic items most to least profitable, then all stamp items most to least profitable. The default items upon install only include a sample of magic and stamp items. Using a manual list is not recommended. It is recommended that you use the item database option above.</span>
                            </td>
                            <td><textarea rows="20" cols="50" id="RESTOCK_LIST"></textarea></td>
                        </tr>
                        <tr class="db-hide">
                            <td>
                                Minimum profit in neopoints to click item:
                                <span class="tooltiptext">This only applies when using the item database option. For instance, if the item is worth an estimated 30,000 NPS and it costs 10,000 NPS, then the autobuyer will purchase it if this field is 20,000 or less. Both this condition and the below minimum profit percentage must both be true in order for the autobuyer to click the item.</span>
                            </td>
                            <td><input type="number" id="ITEM_DB_MIN_PROFIT_NPS"></input></td>
                        </tr>
                        <tr class="db-hide">
                            <td>Minimum profit percentage to click item:
                                <span class="tooltiptext">This only applies when using the item database option. For instance, if the item is worth an estimated 15,000 NPS and it costs 10,000 NPS, then the autobuyer will purchase it if this field is 50% (0.5) or less. It is recommened that you leave this at 1.0 or less. Both this condition and the above minimum profit in NPS must both be true in order for the autobuyer to click the item.</span>
                            </td>
                            <td><input type="number" id="ITEM_DB_MIN_PROFIT_PERCENT"></input></td>
                        </tr>
                    </tbody>
                </table>
                <div class="settings-header">General Settings (Affects Both Attic and Main Shops)</div>
                <table align="left" class="box">
                    <tr class="">
                        <td>
                            Estimated profit of items not in item DB:
                            <span class="tooltiptext">For items which are not in the item database, the autobuyer will assume that they have a profit of this amount. This is useful for when new items are released and there hasn't been time for the item database to include them yet.</span>
                        </td>
                        <td><input type="number" id="BUY_UNKNOWN_ITEMS_PROFIT"></input></td>
                    </tr>
                    <tr class="">
                        <td>
                            Minimum rarity to click profitable items <span class="subdued">(not recommended to change)</span>:
                            <span class="tooltiptext">If you want the autobuyer to ignore items below a certain rarity, you can enter that here. Only items at or above this rarity will be clicked. This must be a number between 1 and 99. Items which are not in the item database will not be subject to this rule, since their rarity is unknown.</span>
                        </td>
                        <td><input type="number" max="99" min="1" id="ITEM_DB_MIN_RARITY"></input></td>
                    </tr>
                    <tr>
                        <td>Provide blacklist of items to never purchase:
                            <span class="tooltiptext">This can be used to tell the autobuyer to never click on a certain item. It will not click these items even if the other rules say that the item meets the minimum profit guidelines. This is useful if you find that the item DB has an incorrect or out of date price estimate.</span>
                        </td>
                        <td>
                            <label class="switch">
                                <input id="USE_BLACKLIST" type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                    </tr>
                    <tr class="blacklist-hide">
                        <td>Blacklist of items to never buy:
                            <span class="tooltiptext">This list will supercede all other settings. If an item is in this list, it will never be clicked on by the Autobuyer. This is useful if you find that the item DB has an incorrect or out of date price estimate. Enter one item per line only.</span>
                        </td>
                        <td><textarea rows="10" cols="40" id="BLACKLIST"></textarea></td>
                    </tr>
                    <tr>
                        <td>Sound alerts:
                            <span class="tooltiptext">
                                The autobuyer will read out notifications of what is happening, and sounds beeps when it is taking actions on the page. Especially useful if you have not enabled full autobuying.
                            </span>
                        </td>
                        <td>
                            <label class="switch">
                                <input id="SHOULD_SOUND_ALERTS" type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td>Show status banner:
                            <span class="tooltiptext">
                                This setting toggles the banner text shown on the shop pages.
                            </span>
                        </td>
                        <td>
                            <label class="switch">
                                <input id="SHOULD_SHOW_BANNER" type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                    </tr>
                    <tr class="email-hide">
                        <td class="autosaved"><br>To set up emails, read <a target="_blank" href="email.html">these instructions</a><br></td>
                    </tr>
                    <tr>
                        <td>Send email after purchase using emailjs:</td>
                        <td>
                            <label class="switch">
                                <input id="SHOULD_SEND_EMAIL" type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                    </tr>
                    <tr class="email-hide">
                        <td>Emailjs template id:</td>
                        <td><input type="text" id="EMAIL_TEMPLATE"></input></td>
                    </tr>
                    <tr class="email-hide">
                        <td>Emailjs user id:</td>
                        <td><input type="text" id="EMAIL_USER_ID"></input></td>
                    </tr>
                    <tr class="email-hide">
                        <td>Emailjs service id:</td>
                        <td><input type="text" id="EMAIL_SERVICE_ID"></input></td>
                    </tr>
                </table>
                <button id="reset" class="button">Reset All Settings & Restock List</button>
            </center>
            <hr>
            <br><br><br>
        </div>
        <script src="../common/default_items.js"></script>
        <script src="../../js/jquery.js"></script>
        <script src="../../js/moment.js"></script>
        <script src="../../js/ExtPay.js"></script>
        <script src="optionsPage.js"></script>
    </body>

</html>