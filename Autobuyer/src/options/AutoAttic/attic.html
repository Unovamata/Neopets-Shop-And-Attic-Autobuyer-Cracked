<!DOCTYPE html>
<html>
    <head>
		<title>NeoBuyer+ Options | Almost Abandoned Attic Buyer Settings</title>
        <link rel="stylesheet" type="text/css" href="../table.css" />
        <link rel="stylesheet" type="text/css" href="../options.css" />
    </head>

    <body>
        <div class="center">
            <div class="enter-info">NeoBuyer+ AutoAttic</div>
            <div class="category-info">
                Almost Abandoned Attic Buyer Settings
                <div class="autosaved">
                    <span class="sub">
                        To view helpful tooltips, simply hover over the options!
                    </span>
                    <span id="total-profit"></span><br>
                </div>
            </div>
            <center>
                <a href="https://www.neopets.com/halloween/garage.phtml" target="_blank">
                    <button class="autobuyerButton">Almost Abandoned Attic</button>
                </a>

                <table>
                    <tbody class="main-shop-settings">
                        <thead>
                            <th></th><th></th>
                        </thead>
                        <tr>
                            <td>Almost Abandoned Attic AutoBuyer Enabled:
                                <span class="tooltiptext">Enables Almost Abandoned Attic AutoBuyer.</span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="ATTIC_ENABLED" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="subcategory-info">Refresh Settings</div>
                
                <table>
                    <thead>
                        <th></th><th></th>
                    </thead>
                    <tr>
                        <td><b>Automatic Intelligent Refreshing</b> Enabled:
                            <span class="tooltiptext">
                                If enabled, this feature activates automatic intelligent refreshing for the attic AutoBuyer process.

                                <br><br>The AutoAttic process calculates all possible windows by the "Last Restock Time."

                                <br><br>The first window comprises +14 minutes and +10 seconds from the last restock time.
                                <br>All subsequent windows comprise +7 minutes +6 seconds from the last restock time.

                                <br><br>Disable this option to manually refresh the Attic page.
                            </span>
                        </td>
                        <td>
                            <label class="switch">
                                <input id="ATTIC_SHOULD_REFRESH" type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                    </tr>
                    <tr class="attic-refresh-hide">
                        <td><b>Last Restock Time</b> <span class="subdued">(in NST)</span>:
                            <span class="tooltiptext">
                                This is the last known restock time for the attic in Neopian Standard Time (NST).<br> 
                                Visit the Attic Antics Neoboard to find this timestamp.<br><br>

                                This helps the NeoBuyer+ refresh more strategically, reducing refresh bans.<br><br>

                                <a href="https://www.jellyneo.net/?go=almost_abandoned_attic">More Information About the Almost Abandoned Attic</a>
                                <br><br><a href="http://www.neopets.com/neoboards/boardlist.phtml?board=23">Attic Antics Neoboard</a><br>
                            </span>
                        </td>
                        <td>
                            <input id="ATTIC_LAST_REFRESH_DATE" type="date" />
                            <input id="ATTIC_LAST_REFRESH_TIME" type="time" step="1" /> <span class="notation">NST</span>
                        </td>
                    </tr>
                    <tr class="attic-refresh-hide">
                        <td>Next Refresh <b>Start</b> Time Window <span class="subdued">(in NST)</span>:
                            <span class="tooltiptext">
                                This option displays the next speculated <u>start window</u> for the Almost Abandoned Attic to stock. This value is <u>read-only</u> and is related to your "Last Restock Time."

                                <br><br>These times may go out of sync if 1 of 3 scenarios occur:

                                <ul>
                                    <li>You have not restocked in the Almost Abandoned Attic recently.</li>
                                    <li>Your Last Restock Time is incorrect.</li>
                                    <li>The times will sync after changing the Last Restock Time after refreshing the page.</li>
                                </ul>
                                
                                These windows will always correct themselves after an attic restock. Be sure to update the "Last Restock Time" often for better accuracy.
                            </span>
                        </td>
                        <td>
                            <input id="ATTIC_NEXT_START_WINDOW" type="time" step="1" disabled /> <span class="notation">NST</span>
                        </td>
                    </tr>
                    <tr class="attic-refresh-hide">
                        <td>Next Refresh <b>End</b> Time Window <span class="subdued">(in NST)</span>:
                            <span class="tooltiptext">
                                This option displays the next speculated <u>end window</u> for the Almost Abandoned Attic to stock. This value is <u>read-only</u> and is related to your "Last Restock Time."

                                <br><br>These times may go out of sync if 1 of 3 scenarios occur:
                                <ul>
                                    <li>You have not restocked in the Almost Abandoned Attic recently.</li>
                                    <li>Your Last Restock Time is incorrect.</li>
                                    <li>The times will sync after changing the Last Restock Time after refreshing the page.</li>
                                </ul>

                                These windows will always correct themselves after an attic restock. Be sure to update the "Last Restock Time" often for better accuracy.
                            </span>
                        </td>
                        <td>
                            <input id="ATTIC_NEXT_END_WINDOW" type="time" step="1" disabled/> <span class="notation">NST</span>
                        </td>
                    </tr>
                    <tr class="attic-refresh-hide">
                        <td><b>AutoAttic</b> Refresh Time Window:
                            <span class="tooltiptext">
                                Specifies the time range to run the AutoAttic process.

                                <br><br>For example: <br>[11, 16] or [0,23]

                                <br><br>If NeoBuyer+ runs unattended for 24 hours, it will only restock at these specific timeframes.

                                <br><br>Default: [0,23]
                            </span>
                        </td>
                        <td><input type="text" id="ATTIC_RUN_BETWEEN_HOURS"></input><span class="notation">from, to</span></td> 
                    </tr>
                    <tr class=" attic-refresh-hide">
                        <td><b>Minimum Refresh</b> Interval:
                            <span class="tooltiptext">
                                Minimum time <u>in milliseconds</u> between refreshes if time is within the Attic possible restock window.
                            </span>
                        </td>
                        <td><input type="number" id="ATTIC_MIN_REFRESH"></input><span class="notation">ms</span></td>
                    </tr>
                    <tr class=" attic-refresh-hide">
                        <td><b>Maximum Refresh</b> Interval:
                            <span class="tooltiptext">
                                Minimum time <u>in milliseconds</u> between refreshes if time is within the Attic possible restock window.
                            </span>
                        </td>
                        <td><input type="number" id="ATTIC_MAX_REFRESH"></input><span class="notation">ms</span></td>
                    </tr>
                </table>
                
                <div class="subcategory-info">Auto-Task Settings</div>
                
                <table>
                    <tbody class="main-shop-settings">
                        <thead>
                            <th></th><th></th>
                        </thead>
                        <tr>
                            <td>Auto-Click Item to Buy:</td>
                            <td>
                                <label class="switch">
                                    <input id="ATTIC_CLICK_ITEM" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class=" attic-click-hide">
                            <td><b>Minimum Item Buy</b> Time:
                                <span class="tooltiptext">
                                    Minimum buy speed <u>in milliseconds</u> to acquire an item.
                                </span>
                            </td>
                            <td><input type="number" id="ATTIC_MIN_BUY_TIME"></input><span class="notation">ms</span></td>
                        </tr>
                        <tr class=" attic-click-hide">
                            <td><b>Maximum Item Buy</b> Time:
                                <span class="tooltiptext">
                                    Maximum buy speed <u>in milliseconds</u> to acquire an item.
                                </span>
                            </td>
                            <td><input type="number" id="ATTIC_MAX_BUY_TIME"></input><span class="notation">ms</span></td>
                        </tr>
                        <tr class="click-hide">
                            <td title="Useful for those with slower internet connections">Go for 2nd best item:
                                <span class="tooltiptext">
                                    This is useful if you have a slow internet connection. Instead of trying to get the best item in stock, the autobuyer will try to get the 2nd-best item, so that you have a higher chance of success. If there is only 1 item in stock worth buying, it will still try to buy that one item.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_GO_FOR_SECOND_MOST_VALUABLE" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td><b>Refresh</b> Through Page Load Failures:
                                <span class="tooltiptext">
                                    If Neopets' servers reject a request and the page fails to load, this feature will automatically refresh the page after a few seconds.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_REFRESH_THROUGH_PAGE_LOAD_FAILURES" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="subcategory-info">Store & Inventory Settings</div>

                <table>
                    <tbody class="main-shop-settings">
                        <thead>
                            <th></th><th></th>
                        </thead>
                        <!--<tr>
                            <td>Send Bought Items to the Safety Deposit Box:
                                <span class="tooltiptext">
                                    If enabled, purchased items will be sent to your safety deposit box.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SEND_TO_SDB_AFTER_PURCHASE" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>-->
                        <tr>
                            <td>Use Item Database Value Estimates:
                                <span class="tooltiptext">
                                    NeoBuyer+ keeps track of 3 constants: <u>Price, Value, and Profit</u>.

                                    <ul>
                                        <li>Price is the item's stocking price, what you pay to buy the item.</li>
                                        <li>Value is the item's market value without the stocking Price subtraction.</li>
                                        <li>Profit is the result of the Value minus the stocking Price.</li>
                                    </ul>

                                    If enabled, the AutoAttic process will target items exclusively based on its item database and its preset settings.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="USE_ITEM_DB" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class="db-hide">
                            <td>
                                <b>Minimum</b> Profit to Click Item:
                                <span class="tooltiptext">
                                    The AutoBuyer process will only buy an item if its <u>Profit Margin surpasses</u> the amount inputted in this field. This setting only applies while using the item database.
                                </span>
                            </td>
                            <td><input type="number" id="ATTIC_ITEM_DB_MIN_PROFIT_NPS"></input><span class="notation">NPs</span></td>
                        </tr>
                        <tr class="db-hide">
                            <td><b>Minimum</b> Profit Percentage to Click Item:
                                <span class="tooltiptext">
                                    Neobuyer+ will buy an item only if its profitability percentage is greater than the amount provided. This only applies while using the item database. Use decimal numbers only.

                                    <br><br>For Example:
                                    <br>0.5 (50% profitability margin)
                                </span>
                            </td>
                            <td><input type="number" id="ATTIC_ITEM_DB_MIN_PROFIT_PERCENT"></input><span class="notation">%</span></td>
                        </tr>
                        <tr class="db-hide">
                            <td>
                                Estimated Profit of Items <b>not</b> in Item DB:
                                <span class="tooltiptext">
                                    The AutoBuyer process will assume the default profit amount inputted in this field for items not found in the database. This feature can come in handy for new, unlisted items.
                                </span>
                            </td>
                            <td><input type="number" id="BUY_UNKNOWN_ITEMS_PROFIT"></input><span class="notation">NPS</span></td>
                        </tr>
                        <tr class="db-hide">
                            <td>
                                <b>Minimum</b> Rarity to Click Profitable Items: <span class="subdued">(Not Advised to Modify)</span>:
                                <span class="tooltiptext">
                                    NeoBuyer+ will only acquire items over that rarity threshold.<br>
    
                                    <ul>
                                        <li> Minimum rarity: 1
                                        <li> Maximum rarity: 100
                                    </ul>
                                </span>
                            </td>
                            <td><span class="notation">Rarity</span><input type="number" max="99" min="1" id="ITEM_DB_MIN_RARITY"></input></td>
                        </tr>
                        <tr class="db-hide">
                            <td>Use a Blacklist of Items to not Purchase:
                                <span class="tooltiptext">
                                    The AutoBuyer process will prevent clicking on Blacklisted items, irrespective of whether those items meet the profit criteria. 
                                    
                                    <br><br>Blacklists override other settings, ensuring the AutoBuyer process does not click any Blacklisted items. This feature is useful for countering inaccurate or outdated price estimates in the item database. 
                                    
                                    <br><br><u>Enter one item per line.</u>
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="USE_BLACKLIST" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr class="blacklist-hide">
                            <td class="db-hide">Blacklist:</td>
                            <td class="db-hide"><textarea rows="10" cols="40" id="BLACKLIST"></textarea></td>
                        </tr>
                        <tr class="restock-hide">
                            <td><b>Attic</b> Restock List:
                                <span class="tooltiptext">
                                    The list must be ordered from most profitable to least profitable. You can group by store.<br><br>
                                    
                                    <a href="https://www.jellyneo.net/?go=shopsdirectory">JN's Shop Directory</a>
                                </span>
                            </td>
                            <td><textarea rows="20" cols="50" id="ATTIC_RESTOCK_LIST"></textarea></td>
                        </tr>
                    </tbody>
                </table>

                <div class="subcategory-info">Visual Settings</div>
                
                <table>
                    <tbody class="main-shop-settings">
                        <thead>
                            <th></th><th></th>
                        </thead>
                        <tr>
                            <td>Show Status Banner:
                                <span class="dangertooltip tooltiptext">
                                    This setting toggles the banner text shown on the shop pages.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_SHOW_BANNER" type="checkbox">
                                    <span class="slider slider-danger round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td>Highlight Desired <b>Attic</b> Items:
                                <span class="dangertooltip tooltiptext">
                                    Neobuyer+ will highlight items of interest based on your configuration presets.
                                    
                                    <br><br>The highest valued item in stock is highlighted in orange, while other items of interest will be highlighted in green.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="ATTIC_HIGHLIGHT" type="checkbox">
                                    <span class="slider slider-danger round"></span>
                                </label>
                            </td>
                        </tr>
                    </tbody>
                </table>


                <div class="subcategory-info">Alert Settings</div>

                <table>
                    <tbody class="main-shop-settings">
                        <thead>
                            <th></th><th></th>
                        </thead>
                        <tr>
                            <td>Show Chrome Notifications:
                                <span class="tooltiptext">
                                    NeoBuyer+ will send notifications when important events occur. 
                                    
                                    <br><br>For example: 
                                    <br>Purchases, Shop Clears, and More
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_SHOW_CHROME_NOTIFICATIONS" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td>Change Page Information:
                                <span class="dangertooltip tooltiptext">
                                    If enabled, NeoBuyer+ will change the titles on tabs to reflect the status of the AutoBuyer process.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_CHANGE_DOCUMENT_DATA" type="checkbox">
                                    <span class="slider slider-danger round"></span>
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td>Sound Alerts:
                                <span class="tooltiptext">
                                    If enabled, the AutoBuyer process will provide audible notifications during page actions.
                                </span>
                            </td>
                            <td>
                                <label class="switch">
                                    <input id="SHOULD_SOUND_ALERTS" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <br><br><br>
                <button id="reset" class="button reset">Reset All Settings</button>
            </center>
            <br><br><br>
        </div>

        <script src="../loadingScreen.js"></script>
        <script src="../../common/utils.js"></script>
        <script src="../../toolbar.js"></script>
        <script src="../../../js/moment.js"></script>
        <script src="../../../js/moment-timezone-with-data.js"></script>
        <script src="../../common/default_items.js"></script>
        <script src="../../../js/jquery.js"></script>
        <script src="../../../js/ExtPay.js"></script>
        <script src="../optionsPage.js"></script>
    </body>
</html>